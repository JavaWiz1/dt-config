<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../../../">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>dt_tools.console.msgbox &mdash; dt-console  documentation</title>
      <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../../../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../../../_static/jquery.js?v=5d32c60e"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../../../_static/documentation_options.js?v=5929fcd5"></script>
        <script src="../../../_static/doctools.js?v=9a2dae69"></script>
        <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            dt-console
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../dt_tools.console.html">dt_tools.console namespace</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">dt-console</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">dt_tools.console.msgbox</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for dt_tools.console.msgbox</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>
<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">List</span><span class="p">,</span> <span class="n">Tuple</span><span class="p">,</span> <span class="n">Union</span>

<span class="kn">from</span> <span class="nn">loguru</span> <span class="kn">import</span> <span class="n">logger</span> <span class="k">as</span> <span class="n">LOGGER</span>

<span class="c1"># This version derived from the below projects:</span>

<span class="c1"># Modified BSD License</span>
<span class="c1"># PyMsgBox - A simple, cross-platform, pure Python module for JavaScript-like message boxes.</span>
<span class="c1">#            By Al Sweigart al@inventwithpython.com</span>

<span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;1.0.9&quot;</span>

<span class="c1"># Modified BSD License</span>
<span class="c1"># Derived from Stephen Raymond Ferg&#39;s EasyGui http://easygui.sourceforge.net/</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">The four functions in PyMsgBox:</span>

<span class="sd"> - alert(text=&#39;&#39;, title=&#39;&#39;, button=&#39;OK&#39;)</span>

<span class="sd">    Displays a simple message box with text and a single OK button. Returns the text of the button clicked on.</span>

<span class="sd"> - confirm(text=&#39;&#39;, title=&#39;&#39;, buttons=[&#39;OK&#39;, &#39;Cancel&#39;])</span>

<span class="sd">    Displays a message box with OK and Cancel buttons. Number and text of buttons can be customized. Returns the text of the button clicked on.</span>

<span class="sd"> - prompt(text=&#39;&#39;, title=&#39;&#39; , default=&#39;&#39;)</span>

<span class="sd">    Displays a message box with text input, and OK &amp; Cancel buttons. Returns the text entered, or None if Cancel was clicked.</span>

<span class="sd"> - password(text=&#39;&#39;, title=&#39;&#39;, default=&#39;&#39;, mask=&#39;*&#39;)</span>

<span class="sd">    Displays a message box with text input, and OK &amp; Cancel buttons. Typed characters appear as *. Returns the text entered, or None if Cancel was clicked.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="sd">TODO Roadmap:</span>
<span class="sd">- Be able to specify a custom icon in the message box.</span>
<span class="sd">- Be able to place the message box at an arbitrary position (including on multi screen layouts)</span>
<span class="sd">- Add mouse clicks to unit testing.</span>
<span class="sd">- progress() function to display a progress bar</span>
<span class="sd">- Maybe other types of dialog: open, save, file/folder picker, etc.</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">rootWindowPosition</span> <span class="o">=</span> <span class="s2">&quot;+300+200&quot;</span>

<div class="viewcode-block" id="MB_FontFamily">
<a class="viewcode-back" href="../../../dt_tools.console.msgbox.html#dt_tools.console.msgbox.MB_FontFamily">[docs]</a>
<span class="k">class</span> <span class="nc">MB_FontFamily</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;MsgBox Font Types.&quot;&quot;&quot;</span>
    <span class="n">PROPORTIONAL</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;MS&quot;</span><span class="p">,</span> <span class="s2">&quot;Sans&quot;</span><span class="p">,</span> <span class="s2">&quot;Serif&quot;</span><span class="p">)</span>
    <span class="n">MONOSPACE</span> <span class="o">=</span> <span class="s2">&quot;Courier&quot;</span></div>


<div class="viewcode-block" id="MB_FontSize">
<a class="viewcode-back" href="../../../dt_tools.console.msgbox.html#dt_tools.console.msgbox.MB_FontSize">[docs]</a>
<span class="k">class</span> <span class="nc">MB_FontSize</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Font sizes for MsgBox fonts&quot;&quot;&quot;</span>
    <span class="n">PROPORTIONAL</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">MONOSPACE</span> <span class="o">=</span> <span class="p">(</span><span class="mi">9</span><span class="p">)</span>  <span class="c1"># a little smaller, because it it more legible at a smaller size</span>
    <span class="n">TEXT</span> <span class="o">=</span> <span class="mi">12</span>        <span class="c1"># a little larger makes it easier to see</span></div>



<span class="n">MSGBOX_WIDTH</span> <span class="o">=</span> <span class="mi">400</span>

<span class="n">STANDARD_SELECTION_EVENTS</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Return&quot;</span><span class="p">,</span> <span class="s2">&quot;Button-1&quot;</span><span class="p">,</span> <span class="s2">&quot;space&quot;</span><span class="p">]</span>

<span class="c1"># constants for strings: (TODO: for internationalization, change these)</span>
<div class="viewcode-block" id="MB_ButtonType">
<a class="viewcode-back" href="../../../dt_tools.console.msgbox.html#dt_tools.console.msgbox.MB_ButtonType">[docs]</a>
<span class="k">class</span> <span class="nc">MB_ButtonType</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Constants for Message box buttons (and captions).&quot;&quot;&quot;</span>
    <span class="n">OK</span> <span class="o">=</span> <span class="s2">&quot;OK&quot;</span>
    <span class="n">CANCEL</span> <span class="o">=</span> <span class="s2">&quot;Cancel&quot;</span>
    <span class="n">YES</span> <span class="o">=</span> <span class="s2">&quot;Yes&quot;</span>
    <span class="n">NO</span> <span class="o">=</span> <span class="s2">&quot;No&quot;</span>
    <span class="n">RETRY</span> <span class="o">=</span> <span class="s2">&quot;Retry&quot;</span>
    <span class="n">ABORT</span> <span class="o">=</span> <span class="s2">&quot;Abort&quot;</span>
    <span class="n">IGNORE</span> <span class="o">=</span> <span class="s2">&quot;Ignore&quot;</span>
    <span class="n">TRY_AGAIN</span> <span class="o">=</span> <span class="s2">&quot;Try Again&quot;</span>
    <span class="n">CONTINUE</span> <span class="o">=</span> <span class="s2">&quot;Continue&quot;</span></div>


<span class="n">TIMEOUT_RETURN_VALUE</span> <span class="o">=</span> <span class="s2">&quot;Timeout&quot;</span>
<span class="sd">&quot;&quot;&quot;Value returned when MsgBox times out.&quot;&quot;&quot;</span>

<span class="c1"># Initialize some global variables that will be reset later</span>
<span class="n">_used_font_family</span> <span class="o">=</span> <span class="n">MB_FontFamily</span><span class="o">.</span><span class="n">PROPORTIONAL</span>
<span class="n">_used_font_size</span> <span class="o">=</span> <span class="n">MB_FontSize</span><span class="o">.</span><span class="n">PROPORTIONAL</span>
<span class="n">__choiceboxMultipleSelect</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">__widgetTexts</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">__replyButtonText</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">__choiceboxResults</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">__firstWidget</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">__enterboxText</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">__enterboxDefaultText</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">__multenterboxText</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">choiceboxChoices</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">choiceboxWidget</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">entryWidget</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">boxRoot</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">buttonsFrame</span> <span class="o">=</span> <span class="kc">None</span>


<div class="viewcode-block" id="set_font">
<a class="viewcode-back" href="../../../dt_tools.console.msgbox.html#dt_tools.console.msgbox.set_font">[docs]</a>
<span class="k">def</span> <span class="nf">set_font</span><span class="p">(</span><span class="n">family</span><span class="p">:</span> <span class="n">MB_FontFamily</span><span class="p">,</span> <span class="n">size</span><span class="p">:</span> <span class="nb">int</span><span class="o">=</span><span class="mi">0</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Set font family and font size</span>

<span class="sd">    Arguments:</span>
<span class="sd">        family: MB_FontFamily.MONOSPACE or MB_FontFamily.PROPORTIONAL.</span>
<span class="sd">        size: Font size, typically 8-12.  If &lt;= 0 will default to</span>
<span class="sd">          either MB_FontSize.MONOSPACE or MB_FontSize.PROPORTIONAL depending</span>
<span class="sd">          on select family. </span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_used_font_family</span> <span class="o">=</span> <span class="n">family</span>
    <span class="k">if</span> <span class="n">size</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="n">_used_font_size</span> <span class="o">=</span> <span class="n">MB_FontSize</span><span class="o">.</span><span class="n">MONOSPACE</span> <span class="k">if</span> <span class="n">_used_font_family</span> <span class="o">==</span> <span class="n">MB_FontFamily</span><span class="o">.</span><span class="n">MONOSPACE</span> <span class="k">else</span> <span class="n">MB_FontFamily</span><span class="o">.</span><span class="n">PROPORTIONAL</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">_used_font_size</span> <span class="o">=</span> <span class="n">size</span></div>



<span class="k">def</span> <span class="nf">_alertTkinter</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">button</span><span class="o">=</span><span class="n">MB_ButtonType</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays a simple message box with text and a single OK button. </span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        text: Text content of the message box (default: {&quot;&quot;})</span>
<span class="sd">        title: Title bar text (default: {&quot;&quot;})</span>
<span class="sd">        button: Button caption (default: {MB_ButtonType.OK})</span>
<span class="sd">        root: Base window (default: {None})</span>
<span class="sd">        timeout: Number of seconds to display box (default: {None})</span>

<span class="sd">    Returns:</span>
<span class="sd">        The text of the button clicked on.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">retVal</span> <span class="o">=</span> <span class="n">_buttonbox</span><span class="p">(</span>
        <span class="n">msg</span><span class="o">=</span><span class="n">text</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span> <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">button</span><span class="p">)],</span> <span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
    <span class="p">)</span>
    <span class="k">return</span> <span class="n">button</span> <span class="k">if</span> <span class="n">retVal</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">retVal</span>

<span class="n">alert</span> <span class="o">=</span> <span class="n">_alertTkinter</span>


<span class="k">def</span> <span class="nf">_confirmTkinter</span><span class="p">(</span>
    <span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">buttons</span><span class="o">=</span><span class="p">(</span><span class="n">MB_ButtonType</span><span class="o">.</span><span class="n">OK</span><span class="p">,</span> <span class="n">MB_ButtonType</span><span class="o">.</span><span class="n">CANCEL</span><span class="p">),</span> <span class="n">root</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays a Confirmation message box with text and Ok / Cancel buttons. </span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        text: Text content of the message box (default: {&quot;&quot;})</span>
<span class="sd">        title: Title bar text (default: {&quot;&quot;})</span>
<span class="sd">        buttons: A list of button text (default: {(MB_ButtonType.OK, MB_ButtonType.CANCEL)})</span>
<span class="sd">        root: Base window (default: {None})</span>
<span class="sd">        timeout: Number of seconds to display box (default: {None})</span>

<span class="sd">    Returns:</span>
<span class="sd">        The text of the button clicked on.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">resp</span> <span class="o">=</span> <span class="n">_buttonbox</span><span class="p">(</span>
        <span class="n">msg</span><span class="o">=</span><span class="n">text</span><span class="p">,</span>
        <span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
        <span class="n">choices</span><span class="o">=</span><span class="p">[</span><span class="nb">str</span><span class="p">(</span><span class="n">b</span><span class="p">)</span> <span class="k">for</span> <span class="n">b</span> <span class="ow">in</span> <span class="n">buttons</span><span class="p">],</span>
        <span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">,</span>
        <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">,</span>
    <span class="p">)</span>

    <span class="k">return</span> <span class="n">resp</span>

<span class="n">confirm</span> <span class="o">=</span> <span class="n">_confirmTkinter</span>


<span class="k">def</span> <span class="nf">_promptTkinter</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays a message box with text input, and OK &amp; Cancel buttons. </span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        text: Text content of the message box (default: {&quot;&quot;})</span>
<span class="sd">        title: Title bar text (default: {&quot;&quot;})</span>
<span class="sd">        default: Default text on timeout (default: {&quot;&quot;})</span>
<span class="sd">        root: Base window (default: {None})</span>
<span class="sd">        timeout: Number of seconds to display box (default: {None})</span>

<span class="sd">    Returns:</span>
<span class="sd">        Returns the text entered, or None if Cancel was clicked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">__fillablebox</span><span class="p">(</span>
        <span class="n">text</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="n">default</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span>
    <span class="p">)</span>


<span class="n">prompt</span> <span class="o">=</span> <span class="n">_promptTkinter</span>


<span class="k">def</span> <span class="nf">_passwordTkinter</span><span class="p">(</span><span class="n">text</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Displays a message box with text input, and OK &amp; Cancel buttons. </span>
<span class="sd">    </span>
<span class="sd">    By default, typed characters are masked as an asterisk(\*) symbol. </span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        text: Text content of the message box (default: {&quot;&quot;})</span>
<span class="sd">        title: Title bar text (default: {&quot;&quot;})</span>
<span class="sd">        mask: Mask character to display on user keystrokes (default: {&quot;*&quot;})</span>
<span class="sd">        default: Default text on timeout (default: {&quot;&quot;})</span>
<span class="sd">        root: Base window (default: {None})</span>
<span class="sd">        timeout: Number of seconds to display box (default: {None})</span>

<span class="sd">    Returns:</span>
<span class="sd">        Returns the text entered, or None if Cancel was clicked.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">__fillablebox</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">default</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="n">mask</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="n">root</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="n">timeout</span><span class="p">)</span>

<span class="n">password</span> <span class="o">=</span> <span class="n">_passwordTkinter</span>


<div class="viewcode-block" id="timeoutBoxRoot">
<a class="viewcode-back" href="../../../dt_tools.console.msgbox.html#dt_tools.console.msgbox.timeoutBoxRoot">[docs]</a>
<span class="k">def</span> <span class="nf">timeoutBoxRoot</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">boxRoot</span><span class="p">,</span> <span class="n">__replyButtonText</span><span class="p">,</span> <span class="n">__enterboxText</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span> <span class="c1"># timeoutBoxRoot</span>
    <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">ex</span><span class="p">:</span>
        <span class="n">LOGGER</span><span class="o">.</span><span class="n">trace</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;timeoutBoxRoot()-</span><span class="si">{</span><span class="nb">repr</span><span class="p">(</span><span class="n">ex</span><span class="p">)</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>

    <span class="n">__replyButtonText</span> <span class="o">=</span> <span class="n">TIMEOUT_RETURN_VALUE</span>
    <span class="n">__enterboxText</span> <span class="o">=</span> <span class="n">TIMEOUT_RETURN_VALUE</span></div>



<span class="k">def</span> <span class="nf">_buttonbox</span><span class="p">(</span><span class="n">msg</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">title</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">choices</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">List</span><span class="p">,</span><span class="n">Tuple</span><span class="p">],</span> <span class="n">root</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Display a msg, a title, and a set of buttons.</span>

<span class="sd">    The buttons are defined by the members of the choices list.</span>

<span class="sd">    Arguments:</span>
<span class="sd">        msg: Text content of the message box</span>
<span class="sd">        title: Title bar text</span>
<span class="sd">        choices: A list or tuple of the choices to be displayed</span>

<span class="sd">    Keyword Arguments:</span>
<span class="sd">        root: Base window (default: {None})</span>
<span class="sd">        timeout: Number of seconds to display box (default: {None})</span>

<span class="sd">    Returns:</span>
<span class="sd">        Text caption of the Button clicked.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">global</span> <span class="n">boxRoot</span><span class="p">,</span> <span class="n">__replyButtonText</span><span class="p">,</span> <span class="n">__widgetTexts</span><span class="p">,</span> <span class="n">buttonsFrame</span>

    <span class="c1"># Initialize __replyButtonText to the first choice.</span>
    <span class="c1"># This is what will be used if the window is closed by the close button.</span>
    <span class="n">__replyButtonText</span> <span class="o">=</span> <span class="n">choices</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="k">if</span> <span class="n">root</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
        <span class="n">boxRoot</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">boxRoot</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>

    <span class="n">boxRoot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">iconname</span><span class="p">(</span><span class="s2">&quot;Dialog&quot;</span><span class="p">)</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="n">rootWindowPosition</span><span class="p">)</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">minsize</span><span class="p">(</span><span class="mi">400</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>

    <span class="c1"># ------------- define the messageFrame ---------------------------------</span>
    <span class="n">messageFrame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">boxRoot</span><span class="p">)</span>
    <span class="n">messageFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

    <span class="c1"># ------------- define the buttonsFrame ---------------------------------</span>
    <span class="n">buttonsFrame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">boxRoot</span><span class="p">)</span>
    <span class="n">buttonsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

    <span class="c1"># -------------------- place the widgets in the frames -----------------------</span>
    <span class="n">messageWidget</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Message</span><span class="p">(</span><span class="n">messageFrame</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">msg</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="n">MSGBOX_WIDTH</span><span class="p">)</span>
    <span class="c1"># messageWidget.configure(font=(MB_FontFamily.PROPORTIONAL, MB_FontSize.PROPORTIONAL))</span>
    <span class="n">messageWidget</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="n">_used_font_family</span><span class="p">,</span> <span class="n">_used_font_size</span><span class="p">))</span>
    <span class="n">messageWidget</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">YES</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">X</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">)</span>

    <span class="n">__put_buttons_in_buttonframe</span><span class="p">(</span><span class="n">choices</span><span class="p">)</span>

    <span class="c1"># -------------- the action begins -----------</span>
    <span class="c1"># put the focus on the first button</span>
    <span class="n">__firstWidget</span><span class="o">.</span><span class="n">focus_force</span><span class="p">()</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>  <span class="c1"># agd</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
    <span class="n">_timeout_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_timeout_id</span> <span class="o">=</span> <span class="n">boxRoot</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">timeoutBoxRoot</span><span class="p">)</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>

    <span class="k">if</span> <span class="n">_timeout_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="n">_timeout_id</span><span class="p">)</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
    <span class="k">except</span> <span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">__replyButtonText</span> <span class="o">!=</span> <span class="n">TIMEOUT_RETURN_VALUE</span><span class="p">:</span>
            <span class="n">__replyButtonText</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">if</span> <span class="n">root</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">__replyButtonText</span>


<span class="k">def</span> <span class="nf">__put_buttons_in_buttonframe</span><span class="p">(</span><span class="n">choices</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Put the buttons in the buttons frame&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">__widgetTexts</span><span class="p">,</span> <span class="n">__firstWidget</span><span class="p">,</span> <span class="n">buttonsFrame</span>

    <span class="n">__firstWidget</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">__widgetTexts</span> <span class="o">=</span> <span class="p">{}</span>

    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>

    <span class="k">for</span> <span class="n">buttonText</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">:</span>
        <span class="n">tempButton</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">buttonsFrame</span><span class="p">,</span> <span class="n">takefocus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">buttonText</span><span class="p">)</span>
        <span class="n">_bindArrows</span><span class="p">(</span><span class="n">tempButton</span><span class="p">)</span>
        <span class="n">tempButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
            <span class="n">expand</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">YES</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="s2">&quot;1m&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="s2">&quot;1m&quot;</span><span class="p">,</span> <span class="n">ipadx</span><span class="o">=</span><span class="s2">&quot;2m&quot;</span><span class="p">,</span> <span class="n">ipady</span><span class="o">=</span><span class="s2">&quot;1m&quot;</span>
        <span class="p">)</span>

        <span class="c1"># remember the text associated with this widget</span>
        <span class="n">__widgetTexts</span><span class="p">[</span><span class="n">tempButton</span><span class="p">]</span> <span class="o">=</span> <span class="n">buttonText</span>

        <span class="c1"># remember the first widget, so we can put the focus there</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">__firstWidget</span> <span class="o">=</span> <span class="n">tempButton</span>
            <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span>

        <span class="c1"># for the commandButton, bind activation events to the activation event handler</span>
        <span class="n">commandButton</span> <span class="o">=</span> <span class="n">tempButton</span>
        <span class="n">handler</span> <span class="o">=</span> <span class="n">__buttonEvent</span>
        <span class="k">for</span> <span class="n">selectionEvent</span> <span class="ow">in</span> <span class="n">STANDARD_SELECTION_EVENTS</span><span class="p">:</span>
            <span class="n">commandButton</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="n">selectionEvent</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">MB_ButtonType</span><span class="o">.</span><span class="n">CANCEL</span> <span class="ow">in</span> <span class="n">choices</span><span class="p">:</span>
            <span class="n">commandButton</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Escape&gt;&quot;</span><span class="p">,</span> <span class="n">__cancelButtonEvent</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_bindArrows</span><span class="p">(</span><span class="n">widget</span><span class="p">,</span> <span class="n">skipArrowKeys</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="n">widget</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Down&gt;&quot;</span><span class="p">,</span> <span class="n">_tabRight</span><span class="p">)</span>
    <span class="n">widget</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Up&gt;&quot;</span><span class="p">,</span> <span class="n">_tabLeft</span><span class="p">)</span>

    <span class="k">if</span> <span class="ow">not</span> <span class="n">skipArrowKeys</span><span class="p">:</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Right&gt;&quot;</span><span class="p">,</span> <span class="n">_tabRight</span><span class="p">)</span>
        <span class="n">widget</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Left&gt;&quot;</span><span class="p">,</span> <span class="n">_tabLeft</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_tabRight</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">event_generate</span><span class="p">(</span><span class="s2">&quot;&lt;Tab&gt;&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_tabLeft</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">event_generate</span><span class="p">(</span><span class="s2">&quot;&lt;Shift-Tab&gt;&quot;</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">__buttonEvent</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Handle an event that is generated by a person clicking a button.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">boxRoot</span><span class="p">,</span> <span class="n">__widgetTexts</span><span class="p">,</span> <span class="n">__replyButtonText</span>
    <span class="n">__replyButtonText</span> <span class="o">=</span> <span class="n">__widgetTexts</span><span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">widget</span><span class="p">]</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>  <span class="c1"># quit the main loop</span>


<span class="k">def</span> <span class="nf">__cancelButtonEvent</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Handle pressing Esc by clicking the Cancel button.&quot;&quot;&quot;</span>
    <span class="k">global</span> <span class="n">boxRoot</span><span class="p">,</span> <span class="n">__widgetTexts</span><span class="p">,</span> <span class="n">__replyButtonText</span>
    <span class="n">__replyButtonText</span> <span class="o">=</span> <span class="n">MB_ButtonType</span><span class="o">.</span><span class="n">CANCEL</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">__fillablebox</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">default</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">mask</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">root</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Show a box in which a user can enter some text.</span>
<span class="sd">    You may optionally specify some default text, which will appear in the</span>
<span class="sd">    enterbox when it is displayed.</span>
<span class="sd">    Returns the text that the user entered, or None if he cancels the operation.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">global</span> <span class="n">boxRoot</span><span class="p">,</span> <span class="n">__enterboxText</span><span class="p">,</span> <span class="n">__enterboxDefaultText</span>
    <span class="k">global</span> <span class="n">cancelButton</span><span class="p">,</span> <span class="n">entryWidget</span><span class="p">,</span> <span class="n">okButton</span>

    <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">title</span> <span class="o">==</span> <span class="s2">&quot;&quot;</span>
    <span class="k">if</span> <span class="n">default</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">default</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
    <span class="n">__enterboxDefaultText</span> <span class="o">=</span> <span class="n">default</span>
    <span class="n">__enterboxText</span> <span class="o">=</span> <span class="n">__enterboxDefaultText</span>

    <span class="k">if</span> <span class="n">root</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
        <span class="n">boxRoot</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">root</span><span class="p">)</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">boxRoot</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>

    <span class="n">boxRoot</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">iconname</span><span class="p">(</span><span class="s2">&quot;Dialog&quot;</span><span class="p">)</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="n">rootWindowPosition</span><span class="p">)</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Escape&gt;&quot;</span><span class="p">,</span> <span class="n">__enterboxCancel</span><span class="p">)</span>

    <span class="c1"># ------------- define the messageFrame ---------------------------------</span>
    <span class="n">messageFrame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">boxRoot</span><span class="p">)</span>
    <span class="n">messageFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

    <span class="c1"># ------------- define the buttonsFrame ---------------------------------</span>
    <span class="n">buttonsFrame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">boxRoot</span><span class="p">)</span>
    <span class="n">buttonsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

    <span class="c1"># ------------- define the entryFrame ---------------------------------</span>
    <span class="n">entryFrame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">boxRoot</span><span class="p">)</span>
    <span class="n">entryFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

    <span class="c1"># ------------- define the buttonsFrame ---------------------------------</span>
    <span class="n">buttonsFrame</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">master</span><span class="o">=</span><span class="n">boxRoot</span><span class="p">)</span>
    <span class="n">buttonsFrame</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">TOP</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">)</span>

    <span class="c1"># -------------------- the msg widget ----------------------------</span>
    <span class="n">messageWidget</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Message</span><span class="p">(</span><span class="n">messageFrame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;4.5i&quot;</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">msg</span><span class="p">)</span>
    <span class="c1"># messageWidget.configure(font=(MB_FontFamily.PROPORTIONAL, MB_FontSize.PROPORTIONAL))</span>
    <span class="n">messageWidget</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="n">_used_font_family</span><span class="p">,</span> <span class="n">_used_font_size</span><span class="p">))</span>
    <span class="n">messageWidget</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">fill</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">BOTH</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">)</span>

    <span class="c1"># --------- entryWidget ----------------------------------------------</span>
    <span class="n">entryWidget</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">(</span><span class="n">entryFrame</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">40</span><span class="p">)</span>
    <span class="n">_bindArrows</span><span class="p">(</span><span class="n">entryWidget</span><span class="p">,</span> <span class="n">skipArrowKeys</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="c1"># entryWidget.configure(font=(MB_FontFamily.PROPORTIONAL, TEXT_ENTRY_FONT_SIZE))</span>
    <span class="n">entryWidget</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="n">_used_font_family</span><span class="p">,</span> <span class="n">MB_FontSize</span><span class="o">.</span><span class="n">TEXT</span><span class="p">))</span>
    <span class="k">if</span> <span class="n">mask</span><span class="p">:</span>
        <span class="n">entryWidget</span><span class="o">.</span><span class="n">configure</span><span class="p">(</span><span class="n">show</span><span class="o">=</span><span class="n">mask</span><span class="p">)</span>
    <span class="n">entryWidget</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">)</span>
    <span class="n">entryWidget</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Return&gt;&quot;</span><span class="p">,</span> <span class="n">__enterboxGetText</span><span class="p">)</span>
    <span class="n">entryWidget</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Escape&gt;&quot;</span><span class="p">,</span> <span class="n">__enterboxCancel</span><span class="p">)</span>

    <span class="c1"># put text into the entryWidget and have it pre-highlighted</span>
    <span class="k">if</span> <span class="n">__enterboxDefaultText</span> <span class="o">!=</span> <span class="s2">&quot;&quot;</span><span class="p">:</span>
        <span class="n">entryWidget</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">__enterboxDefaultText</span><span class="p">)</span>
        <span class="n">entryWidget</span><span class="o">.</span><span class="n">select_range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">tk</span><span class="o">.</span><span class="n">END</span><span class="p">)</span>

    <span class="c1"># ------------------ ok button -------------------------------</span>
    <span class="n">okButton</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">buttonsFrame</span><span class="p">,</span> <span class="n">takefocus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">MB_ButtonType</span><span class="o">.</span><span class="n">OK</span><span class="p">)</span>
    <span class="n">_bindArrows</span><span class="p">(</span><span class="n">okButton</span><span class="p">)</span>
    <span class="n">okButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">LEFT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">,</span> <span class="n">ipadx</span><span class="o">=</span><span class="s2">&quot;2m&quot;</span><span class="p">,</span> <span class="n">ipady</span><span class="o">=</span><span class="s2">&quot;1m&quot;</span><span class="p">)</span>

    <span class="c1"># for the commandButton, bind activation events to the activation event handler</span>
    <span class="n">commandButton</span> <span class="o">=</span> <span class="n">okButton</span>
    <span class="n">handler</span> <span class="o">=</span> <span class="n">__enterboxGetText</span>
    <span class="k">for</span> <span class="n">selectionEvent</span> <span class="ow">in</span> <span class="n">STANDARD_SELECTION_EVENTS</span><span class="p">:</span>
        <span class="n">commandButton</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="n">selectionEvent</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span>

    <span class="c1"># ------------------ cancel button -------------------------------</span>
    <span class="n">cancelButton</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">buttonsFrame</span><span class="p">,</span> <span class="n">takefocus</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="n">MB_ButtonType</span><span class="o">.</span><span class="n">CANCEL</span><span class="p">)</span>
    <span class="n">_bindArrows</span><span class="p">(</span><span class="n">cancelButton</span><span class="p">)</span>
    <span class="n">cancelButton</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span>
        <span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">side</span><span class="o">=</span><span class="n">tk</span><span class="o">.</span><span class="n">RIGHT</span><span class="p">,</span> <span class="n">padx</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">,</span> <span class="n">pady</span><span class="o">=</span><span class="s2">&quot;3m&quot;</span><span class="p">,</span> <span class="n">ipadx</span><span class="o">=</span><span class="s2">&quot;2m&quot;</span><span class="p">,</span> <span class="n">ipady</span><span class="o">=</span><span class="s2">&quot;1m&quot;</span>
    <span class="p">)</span>

    <span class="c1"># for the commandButton, bind activation events to the activation event handler</span>
    <span class="n">commandButton</span> <span class="o">=</span> <span class="n">cancelButton</span>
    <span class="n">handler</span> <span class="o">=</span> <span class="n">__enterboxCancel</span>
    <span class="k">for</span> <span class="n">selectionEvent</span> <span class="ow">in</span> <span class="n">STANDARD_SELECTION_EVENTS</span><span class="p">:</span>
        <span class="n">commandButton</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;</span><span class="si">%s</span><span class="s2">&gt;&quot;</span> <span class="o">%</span> <span class="n">selectionEvent</span><span class="p">,</span> <span class="n">handler</span><span class="p">)</span>

    <span class="c1"># ------------------- time for action! -----------------</span>
    <span class="n">entryWidget</span><span class="o">.</span><span class="n">focus_force</span><span class="p">()</span>  <span class="c1"># put the focus on the entryWidget</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s2">&quot;-topmost&quot;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>     <span class="c1"># agd</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
    <span class="n">_timeout_id</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">timeout</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">_timeout_id</span> <span class="o">=</span> <span class="n">boxRoot</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">timeout</span><span class="p">,</span> <span class="n">timeoutBoxRoot</span><span class="p">)</span>
        <span class="c1"># boxRoot.after(timeout, )</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>  <span class="c1"># run it!</span>

    <span class="c1"># -------- after the run has completed ----------------------------------</span>
    <span class="k">if</span> <span class="n">_timeout_id</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">after_cancel</span><span class="p">(</span><span class="n">_timeout_id</span><span class="p">)</span>

    <span class="k">if</span> <span class="n">root</span><span class="p">:</span>
        <span class="n">root</span><span class="o">.</span><span class="n">deiconify</span><span class="p">()</span>
    <span class="k">try</span><span class="p">:</span>
        <span class="n">boxRoot</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>  <span class="c1"># button_click didn&#39;t destroy boxRoot, so we do it now</span>
    <span class="k">except</span> <span class="n">tk</span><span class="o">.</span><span class="n">TclError</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">__enterboxText</span> <span class="o">!=</span> <span class="n">TIMEOUT_RETURN_VALUE</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>

    <span class="k">return</span> <span class="n">__enterboxText</span>


<span class="k">def</span> <span class="nf">__enterboxGetText</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">__enterboxText</span>

    <span class="n">__enterboxText</span> <span class="o">=</span> <span class="n">entryWidget</span><span class="o">.</span><span class="n">get</span><span class="p">()</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>


<span class="k">def</span> <span class="nf">__enterboxRestore</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">entryWidget</span>

    <span class="n">entryWidget</span><span class="o">.</span><span class="n">delete</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">entryWidget</span><span class="o">.</span><span class="n">get</span><span class="p">()))</span>
    <span class="n">entryWidget</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">__enterboxDefaultText</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">__enterboxCancel</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
    <span class="k">global</span> <span class="n">__enterboxText</span>

    <span class="n">__enterboxText</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">boxRoot</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>

<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="n">alert</span><span class="p">(</span><span class="s1">&#39;This is an alert box&#39;</span><span class="p">,</span> <span class="s1">&#39;ALERT1&#39;</span><span class="p">)</span>
    <span class="n">_used_font_family</span> <span class="o">=</span> <span class="n">MB_FontFamily</span><span class="o">.</span><span class="n">MONOSPACE</span>
    <span class="n">_used_font_size</span> <span class="o">=</span> <span class="n">MB_FontSize</span><span class="o">.</span><span class="n">MONOSPACE</span>

    <span class="c1"># MSGBOX_WIDTH = 600</span>
    <span class="n">txt</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span>
    <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">v</span> <span class="ow">in</span> <span class="n">tk</span><span class="o">.</span><span class="vm">__dict__</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">k</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;_&#39;</span><span class="p">)</span> <span class="ow">and</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="nb">int</span><span class="p">):</span>
            <span class="n">txt</span> <span class="o">+=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">k</span><span class="si">:</span><span class="s1">20</span><span class="si">}</span><span class="s1"> </span><span class="si">{</span><span class="n">v</span><span class="si">}</span><span class="se">\n</span><span class="s1">&#39;</span>
    
    <span class="n">alert</span><span class="p">(</span><span class="n">txt</span><span class="p">,</span><span class="s2">&quot;ALERT2-MULTILINE&quot;</span><span class="p">)</span>

    <span class="n">confirm</span><span class="p">(</span><span class="s1">&#39;this is a confirm box, no timeout&#39;</span><span class="p">,</span> <span class="s2">&quot;CONFIRM&quot;</span><span class="p">)</span>
    <span class="n">confirm</span><span class="p">(</span><span class="s1">&#39;this is a confirm box, 5 sec timeout&#39;</span><span class="p">,</span> <span class="s2">&quot;CONFIRM&quot;</span><span class="p">,</span> <span class="n">timeout</span><span class="o">=</span><span class="mi">5000</span><span class="p">)</span>
    <span class="n">prompt</span><span class="p">(</span><span class="s1">&#39;This is a prompt box&#39;</span><span class="p">,</span> <span class="s1">&#39;PROMPT&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">)</span>
    <span class="n">password</span><span class="p">(</span><span class="s1">&#39;This is a password box&#39;</span><span class="p">,</span> <span class="s1">&#39;PASSWORD&#39;</span><span class="p">,</span> <span class="s1">&#39;default&#39;</span><span class="p">)</span>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, JavaWiz1@hotmail.com.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>